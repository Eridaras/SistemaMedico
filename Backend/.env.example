# =====================================================
# DATABASE CONFIGURATION
# =====================================================
DATABASE_URL=postgresql://user:password@host/database?sslmode=require
# PostgreSQL Version: 16.x (fijada para reproducibilidad)
# Para Neon.tech: especificar postgres_version=16 en el dashboard
# Para Docker: usar imagen postgres:16-alpine
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_CONNECT_TIMEOUT=10

# =====================================================
# JWT & SECURITY CONFIGURATION
# =====================================================
JWT_SECRET_KEY=your-super-secret-key-change-this-in-production
JWT_EXPIRATION_HOURS=24
JWT_ALGORITHM=HS256
JWT_ISSUER=sistema-medico-api
JWT_AUDIENCE=sistema-medico-frontend
# IMPORTANTE: En producción, usar RS256 o ES256 con par de claves público/privado
# HS256 solo es aceptable con claves >= 256 bits (32 caracteres)

# =====================================================
# BCRYPT CONFIGURATION
# =====================================================
BCRYPT_LOG_ROUNDS=12
# Work factor (log rounds): 12 = ~0.4s por hash (recomendado 2025)
# Ajustar según hardware del servidor (benchmark al implementar)

# =====================================================
# RATE LIMITING (Security) - Sprint 3
# =====================================================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_DEFAULT=100 per minute
RATE_LIMIT_AUTH=5 per minute
RATE_LIMIT_REGISTER=3 per minute
RATE_LIMIT_READ=100 per minute
RATE_LIMIT_WRITE=30 per minute
RATE_LIMIT_SEARCH=20 per minute
RATE_LIMIT_REPORTS=10 per minute
# Storage: memory:// para desarrollo, redis:// para producción
RATE_LIMIT_STORAGE=memory://

# =====================================================
# CACHING (Performance) - Sprint 3
# =====================================================
CACHE_ENABLED=True
CACHE_DEFAULT_TTL=300
# Tipos: simple, redis, memcached, filesystem
CACHE_TYPE=simple
# Para Redis (producción):
# REDIS_URL=redis://localhost:6379/0
# CACHE_TYPE=redis

# =====================================================
# SERVICE PORTS
# =====================================================
AUTH_SERVICE_PORT=5001
INVENTARIO_SERVICE_PORT=5002
HISTORIA_CLINICA_SERVICE_PORT=5003
FACTURACION_SERVICE_PORT=5004
CITAS_SERVICE_PORT=5005
LOGS_SERVICE_PORT=5006

# =====================================================
# FLASK CONFIGURATION
# =====================================================
FLASK_ENV=development
FLASK_DEBUG=True

# =====================================================
# CORS CONFIGURATION
# =====================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# =====================================================
# SERVICE URLS (Inter-service communication)
# =====================================================
AUTH_SERVICE_URL=http://localhost:5001/api/auth
INVENTARIO_SERVICE_URL=http://localhost:5002/api/inventario
HISTORIA_CLINICA_SERVICE_URL=http://localhost:5003/api/historia-clinica
FACTURACION_SERVICE_URL=http://localhost:5004/api/facturacion
CITAS_SERVICE_URL=http://localhost:5005/api/citas
LOGS_SERVICE_URL=http://localhost:5006/api/logs

# =====================================================
# LOGGING CONFIGURATION
# =====================================================
LOG_LEVEL=INFO
LOG_TO_CONSOLE=True
LOG_TO_FILE=False
LOG_RETENTION_DAYS=90

# =====================================================
# PAGINATION
# =====================================================
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100
